<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<h1>Mes fichiers</h1>
<div class="row">
  <h2 class="col-md-2">{{path}}</h2>
  <button (click)="onComeBack()" type="button" class="btn btn-warning">
    <span>Retour</span>
  </button>
</div>

<label>Nouveau nom: </label>
<input [(ngModel)]="newName" placeholder="Nom pour le nouveau fichier">
<button (click)="createFolder()" type="button" class="btn btn-success">
  <span>Nouveau dossier</span>
</button>
<button (click)="createFile()" type="button" class="btn btn-info">
  <span>Nouveau fichier</span>
</button>

<div>
  <!--TODO onPaste() prend rÃ©pertoire courrant -->
  <button type="button" class="btn btn-primary" (click)="onPaste()">
    <span>Coller le fichier</span>
  </button>

  <div class="panel panel-default">
    <h3><span class="label label-default">Folders</span></h3>
    <div class="panel-body">
      <div class="row">
        <div class="col-md-2" *ngFor="let folder of folders" >
          <div class="folder"
               [class.selected]="folder === selectedElement"
               (click)="onSelect(folder)"
               (dblclick)="onOpen(folder)"
               (contextmenu)="detectRightMouseClick($event,folder)">
            <h3>{{folder.name}}</h3>
            {{folder.key}}
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel panel-default">
    <h3><span class="label label-default">Files</span></h3>
    <div class="panel-body">
      <div class="row">
        <div class="col-md-2" *ngFor="let file of files" >
          <div class="file-icon"
               [class.selected]="file === selectedElement"
               (click)="onSelect(file)"
               (contextmenu)="detectRightMouseClick($event,file)">
            <h3>{{file.name}}</h3>
            {{file.key}}
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<file-details [element]="selectedElement" (notify)='onCopy($event)'  (remove)='onRemove($event)'></file-details>

<div class="contextMenu" [ngStyle]="contextMenuPos" (appClickOutside)="closeContextMenu()">
  <button (click)="onRemove()" type="button" class="btn btn-danger">
    <span>Supprimer</span>
  </button>
  <button (click)="onCopy()" type="button" class="btn btn-info">
    <span>Copier</span>
  </button>
</div>
